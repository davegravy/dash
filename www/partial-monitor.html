<!--<script type="text/javascript" src="assets/js/pamonitorUIElements.jsm.js"></script>-->

<div ng-controller="monitor">
    <!-- Page header -->
    <div class="page-header page-header-default" >
        <div class="page-header-content">
            <div class="page-title">
                <h4><i class="icon-arrow-left52 position-left"></i> <span class="text-semibold">Monitors</span> - <span id="header-monitor-label">{{siteId}}</span></h4>
                <a class="heading-elements-toggle"><i class="icon-more"></i></a>
            </div>


            <div class="heading-elements">
                <button type="button" class="btn btn-labeled btn-labeled-right bg-blue dropdown-toggle heading-btn" data-toggle="dropdown" aria-expanded="false">
                    <b><span class="caret"></span></b> Actions
                </button>

                <ul class="dropdown-menu dropdown-menu-right bg-primary-400">
                    <li class="dropdown-submenu dropdown-submenu-left"><a><i class="icon-power2"></i> Power</a>
                        <ul class="dropdown-menu bg-primary-400">
                            <li ng-style="{display: webrelay_pos ? 'none' : 'list-item'}" ng-click="onPowerOnClicked()"><a> On</a></li>
                            <li ng-style="{display: (crio_status && webrelay_pos) ? 'list-item' : 'none'}" ng-click="onPowerOffSoftClicked()"><a> Off (soft)</a></li>
                            <li ng-style="{display: webrelay_pos ? 'list-item' : 'none'}" ng-click="onPowerOffHardClicked()"><a> Off (hard)</a></li>
                        </ul>
                    </li>
                    <!--<li class="divider"></li>-->
                    <li ng-style="{display: (crio_timing_mode == 'Manual' && crio_status) ? 'list-item' : 'none'}" class="dropdown-submenu dropdown-submenu-left"><a><i class="icon-tape"></i> Recording</a>
                        <ul class="dropdown-menu bg-primary-400">
                            <li ng-style="{display: crio_pdr ? 'none' : 'list-item'}" ng-click="onStartRecordingClicked()"><a><i class="icon-mic2"></i> On</a></li>
                            <li ng-style="{display: crio_pdr ? 'list-item' : 'none'}" ng-click="onStopRecordingClicked()"><a><i class="icon-mic-off2"></i> Off</a></li>
                        </ul>
                    </li>


                </ul>


            </div>
        </div>

    </div>
    <!-- /page header -->


    <!-- Content area -->
    <div class="content" >
        <div class="row">
            <div class="col-lg-8">
                <!-- Simple panel -->
                <div class="panel panel-flat">
                    <div class="panel-heading">
                        <h5 class="panel-title">Info</h5>
                        <div class="heading-elements">
                            <ul class="icons-list">
                                <li><a data-action="collapse"></a></li>
                                <li><a data-action="close"></a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="panel-body" style="padding-left:8%;padding-right:8%;">
                        <div class="text-nowrap">
                            <!--<div class="col-md-4">-->
                            <div class="col-lg-5 col-md-4 col-sm-6 col-xs-12">
                                <div class="content-group" style="">
                                    <h5 class="text-semibold no-margin"><i class="glyphicon glyphicon-map-marker position-left text-info"></i>{{siteId}}</h5>
                                    <span class="text-muted text-size-small" style="margin-left:25px;">monitor site</span>
                                </div>
                            </div>
                            <div class="col-md-8 col-sm-6 col-xs-12 hidden-lg" >
                                <div class="content-group" style="">
                                    <h5 class="text-semibold no-margin"><i class="icon-lan position-left text-info"></i>{{ipAddress}}</h5>
                                    <span class="text-muted text-size-small" style="margin-left:25px;">IP address</span>
                                </div>
                            </div>
                            <div class="col-lg-5 col-md-4 col-sm-6 col-xs-6" >
                                <div class="content-group" style="">
                                    <h5 class="text-semibold no-margin"><i class="icon-qrcode position-left text-info"></i>{{monitorIdShort}}</h5>
                                    <span class="text-muted text-size-small" style="margin-left:25px;">serial no</span>
                                </div>
                            </div>
                            <div class="col-lg-1 col-md-3 col-sm-6 col-xs-4" >
                                <div class="content-group" style="padding-left:10px;">
                                    <h5 class="text-semibold no-margin"><i class="icon-chip position-left text-info"></i>{{monitorType}}</h5>
                                    <span class="text-muted text-size-small" style="margin-left:25px;">type</span>
                                </div>
                            </div>
                            <div class="col-lg-5 col-md-4 col-sm-6 col-xs-12 hidden-xs hidden-sm hidden-md" >
                                <div class="content-group" style="">
                                    <h5 class="text-semibold no-margin"><i class="icon-lan position-left text-info"></i>{{ipAddress}}</h5>
                                    <span class="text-muted text-size-small" style="margin-left:25px;">IP address</span>
                                </div>
                            </div>
                            <div class="col-lg-5 col-md-3 col-sm-6 col-xs-6" >
                                <div class="content-group">
                                    <h5 class="text-semibold no-margin" ng-style="{opacity: crio_status ? '1' : '0.2'}"><i class="icon-calendar3 position-left text-info"></i>{{date}}</h5>
                                    <span class="text-muted text-size-small" style="margin-left:25px;">date</span>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-6 col-xs-4" >
                                <div class="content-group" style="padding-left:10px;">
                                    <h5 class="text-semibold no-margin" ng-style="{opacity: crio_status ? '1' : '0.2'}"><i class="glyphicon glyphicon-time position-left text-info"></i>{{time}}</h5>
                                    <span class="text-muted text-size-small"style="margin-left:25px;" >time (utc)</span>
                                </div>
                            </div>


                        </div>
                    </div>

                </div> <!--info-->
                <div class="panel panel-flat">
                    <div class="panel-heading">
                        <h5 class="panel-title">Sensors</h5>
                        <div class="heading-elements">
                            <ul class="icons-list">
                                <li><a data-action="collapse"></a></li>
                                <li><a data-action="close"></a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="panel-body">
                        <div class="content-group-sm" id="vibration-tsc" ng-style="{opacity: crio_status ? '1' : '0.2'}"></div>
                        <div class="container-fluid">
                            <div class="row text-center" ng-style="{opacity: crio_status ? '1' : '0.2'}">
                                <div class="col-xs-4">
                                    <div class="content-group">
                                        <h5 class="text-semibold no-margin"><i class="icon-pulse2 position-left text-green-800"></i><span id="x-rms">{{xVibration}}</span></h5>
                                        <span class="text-muted text-size-small">X RMS (ug)</span>
                                    </div>
                                </div>

                                <div class="col-xs-4">
                                    <div class="content-group">
                                        <h5 class="text-semibold no-margin"><i class="icon-pulse2 position-left text-orange-800"></i><span id="y-rms">{{yVibration}}</span></h5>
                                        <span class="text-muted text-size-small">Y RMS (ug)</span>
                                    </div>
                                </div>

                                <div class="col-xs-4">
                                    <div class="content-group">
                                        <h5 class="text-semibold no-margin"><i class="icon-pulse2 position-left text-blue-800"></i><span id="z-rms">{{zVibration}}</span></h5>
                                        <span class="text-muted text-size-small">Z RMS (ug)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <div class="content-group-sm" id="sound-tsc" ng-style="{opacity: crio_status ? '1' : '0.2'}"></div>
                        <div class="container-fluid">
                            <div class="row text-center" ng-style="{opacity: crio_status ? '1' : '0.2'}">
                                <div class="col-xs-6">
                                    <div class="content-group">
                                        <h5 class="text-semibold no-margin"><i class="icon-pulse2 position-left text-violet-800"></i><span id="dba">{{soundDBA}}</span></h5>
                                        <span class="text-muted text-size-small">RMS (dBA)</span>
                                    </div>
                                </div>
                                <div class="col-xs-6">
                                    <div class="content-group">
                                        <h5 class="text-semibold no-margin"><i class="icon-pulse2 position-left text-pink-800"></i><span id="db">{{soundDB}}</span></h5>
                                        <span class="text-muted text-size-small">RMS (dB)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!--sensors-->
            </div>
            <div class="col-lg-4">
                <div class="panel panel-flat">
                    <div class="panel-heading">
                        <h5 class="panel-title">Health</h5>
                        <div class="heading-elements">
                            <ul class="icons-list">
                                <li><a data-action="collapse"></a></li>
                                <li><a data-action="close"></a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="panel-body">
                        <div class="col-xs-6 text-center">
                            <div class="content-group-sm svg-center position-relative" id="disk-space-remaining" ng-style="{opacity: crio_status ? '1' : '0.2'}"></div>
                        </div>
                        <div class="col-xs-6 text-center">
                            <div class="content-group-sm svg-center position-relative" id="battery-voltage"></div>
                        </div>
                    </div>
                </div> <!--health-->
                <div class="panel panel-flat">
                    <div class="panel-heading">
                        <h5 class="panel-title">Status</h5>
                        <div class="heading-elements">
                            <ul class="icons-list">
                                <li><a data-action="collapse"></a></li>
                                <li><a data-action="close"></a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="panel-body text-nowrap">
                        <!--<div class="col-xs-6 col-md-6 col-lg-10 text-nowrap">-->
                        <table class = "table" style="width:80%;margin-left:auto;margin-right:auto;">
                            <tbody>
                            <tr>
                                <td>
                                    <i class="icon-cube text-info" style="padding-right:10px;"></i>modem/gateway
                                </td>
                                <td>
                                    <span class="badge" ng-class="{'bg-success':webrelay_status || crio_status,
                                    'bg-danger-400':!webrelay_status && !crio_status}" ><i class="icon-station"></i></span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <i class="icon-cube text-info" style="padding-right:10px;"></i>webrelay
                                </td>
                                <td>
                                    <span class="badge" ng-class="{'bg-success':webrelay_status,'bg-danger-400':!webrelay_status}">
                                        <i class="icon-station"></i></span>
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <i class="icon-switch22 text-info" style="padding-right:10px;"></i>relay position
                                </td>
                                <td ng-style="{opacity: webrelay_status ? '1' : '0.2'}">
                                    <span class="badge" ng-class="{'bg-info':webrelay_pos,'bg-danger-400':!webrelay_pos}">
                                        <i ng-class="{'spinner2 spinner':!webrelay_status,
                                         'icon-power-cord':(webrelay_status && !webrelay_pos),
                                         'icon-switch2': (webrelay_status && webrelay_pos)}"></i></span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <i class="icon-cube text-info" style="padding-right:10px;"></i>cRIO
                                </td>
                                <td>
                                    <span ng-style= "{opacity: !crio_status && webrelay_status && !webrelay_pos ? '0' : '1'}" class="badge bg-info"><i ng-class="{'icon-sync': (crio_status && crio_status_detailed=='Initializing'),
                                    'icon-pause': (crio_status && crio_status_detailed=='Ready'),
                                    'icon-mic2': (crio_status && crio_status_detailed=='PDR'),
                                    'icon-spinner3 spinner': !crio_status}"></i></span>
                                    <span ng-style="{opacity: (webrelay_status && webrelay_pos) || crio_status ? '1' : '0'}"
                                          class="badge" ng-class="{'bg-success':(crio_status || !webrelay_status || !webrelay_pos),
                                          'bg-danger-400':(!crio_status && webrelay_status && webrelay_pos)}"><i class="icon-station"></i></span>
                                </td>

                            </tr>

                            </tbody>

                        </table>

                    </div>
                </div> <!--status-->

            </div>
        </div>
    </div>
    <!-- /simple panel -->

    <div id="idle_modal" class="modal fade" style="display:none;">
        <div class="modal-dialog modal-xs">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">taking a break...</h5>
                </div>

                <div class="modal-body" style="display:table;">

                    <div class="icon-object border-slate-300 text-slate-300 position-left"><i class="icon-cup2"></i></div>
                    <p style="display:table-cell;vertical-align:middle;padding:15px 15px 15px 15px;">you don't seem to be watching, so we've gone for coffee!</p>

                </div>

            </div>
        </div>
    </div>

    <div id="modal_theme_warning" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-warning">
                    <button type="button" class="close" data-dismiss="modal">×</button>
                    <h6 class="modal-title">Confirm</h6>
                </div>

                <div class="modal-body">
                    <h6 class="text-semibold"><i class="position-left" ng-class="confirm_icon"></i>{{confirm_title}}</h6>
                    <div ng-bind-html="confirm_text"></div>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-link" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal" ng-click="confirm_function();">Confirm</button>
                </div>
            </div>
        </div>
    </div>

</div>





<!-- Footer -->
<div class="footer text-muted">
    &copy; 2015. <a href="#">Limitless Web App Kit</a> by <a href="http://themeforest.net/user/Kopyov" target="_blank">Eugene Kopyov</a>
</div>
<!-- /footer -->

</div>
<!-- /content area -->